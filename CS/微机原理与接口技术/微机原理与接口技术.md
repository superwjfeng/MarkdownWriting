<img src="智能计算系统框架.drawio.png" width="80%">

# 微机基础



## *计算机发展概述*

### 计算机发展历程

按照电子数字计算机主要元器件的制作材料和工艺水平来划分，计算机的发展经历了四代。这四个发展阶段以硬件进步为主要标志,同时也包括了软件技术的发展

1. 第一代 1946～1958年：电子管计算机时代
2. 第二代 1959～1964年：晶体管计算机时代
3. 第三代 1965～1970年：中小规模集成电路计算机时代 SSI & MSI
4. 第四代 1971年至今：大规模、超大规模集成电路计算机时代 LSI & VLSI

### 计算机的分类

* 按照规模分类
  1. **超级计算机 Supercomputers：** 这是最高级别的计算机，用于处理大规模的科学计算和复杂的数值模拟。它们通常具有极高的计算能力和处理速度，用于解决需要大量计算资源的问题，如气象预测、核物理模拟等
  2. **大型计算机 Mainframes：** 大型计算机主要用于处理大规模的数据处理任务，如企业级数据库管理、金融交易处理等。它们通常具有高度可靠性、可扩展性和强大的处理能力
  3. **小型计算机 Minicomputers：** 小型计算机介于大型计算机和微型计算机之间，用途广泛，可以支持多用户和多任务操作，常用于科学研究、工程设计等
  4. **微型计算机/微机 Microcomputers：** 这是个人计算机的范畴，包括了个人台式机、笔记本电脑、平板电脑等，适用于个人使用和小型办公环境
* 按照功能分类
  1. **通用计算机 General-Purpose Computers：** 这是最常见的计算机类型，能够执行各种不同类型的任务，根据不同的软件和应用进行配置
  2. **嵌入式系统 Embedded Systems：** 嵌入式系统是内置在其他设备中，用于特定控制、监测或执行任务的计算机系统。例如，汽车中的引擎控制系统、家电中的控制芯片等都属于嵌入式系统
  3. **服务器 Servers：** 服务器是专门用于提供服务、存储和共享资源的计算机。它们通常在网络环境中使用，用于托管网站、应用程序、数据库等。
  4. **工作站 Workstations：** 工作站是用于高性能计算和专业应用的计算机，常用于图形设计、科学计算、工程模拟等领域。
  5. **个人计算机 Personal Computers：** 个人计算机是供个人使用的计算机，包括了台式机、笔记本电脑、平板电脑等。

### 微机发展历程

微处理器是微机的核心，因此微机的发展历程是以微处理器的发展为标志的

1. 第一代 1971～1972年：4位和低档8位微机
   * 1971年诞生了全球第一个商用微处理器芯片Intel 4004，以它为核心组成的Intel MCS-4（Micro-Computer Set-4）计算机是世界上第一台微机。随后4004改进为4040
   * 次年Intel公司研制出8位微处理器芯片8008，并出现了由它组成的MCS-8微机
2. 第一代 1973～1977年：中、高档8位微机。摩托罗拉公司的MC6800和Intel 8008的升级版8080是这个时期的代表作
3. 第一代 1978～1984年：经典成熟的16位微机
   * Intel公司的8086/8088/80286、摩托罗拉公司的MC68000是这个时期的代表作。特别是8086成为了一代经典。**人们将自8086以来一直延续搭载的这种CISC指令集体系通称为x86指令体系**
   * 这一时期最著名的微机产品就是IBM推出的IBM PC，它采用了Intel的8088微处理器并搭载了微软发布的MS-DOS操作系统。此外比较出名的还有Apple公司推出的初代Macintosh机，其CPU主要采用摩托罗拉的68000系列和Power PC系列
4. 第一代 1985～1992年：32位微机时代
   * 1985年，Intel公司首次推出32位微处理器芯片80386，80386在结构上有重大进步。次后陆续推出了80486、80586（Pentium）、Pentium Pro、PentiumⅡ/Celeron 赛扬/Xeon 至强、PentiumⅢ/CeleronⅡ/Xeon 以及 Pentium 4
   * 32位微处理器都采用 IA32 Intel Architecture 32 指令架构，并逐步增加了面向多媒体数据处理和网络应用的扩展指令，如Intel的MMX、SSE指令集和AMD的3D Now!指令集
5. 第一代 1993年至今：性能更强的64位微机
   * 随着信息革命的蓬勃发展，32位为微处理器已不能满足实际需求，Intel、AMD、IBM、Sun 等厂商陆续设计并推出了它们的64位CPU
   * 2000年Intel推出的Itanium 安腾、2001年推出的Xeon 至强以及2006年推出的用于台式 PC的Core 酷睿，它们采用全新的指令架构“显式并行指令计算” ，该指令架构又称为IA64，以区别于原来的IA32架构。64位微处理器起初是面向服务器和工作站等高端应用,之后很快普及到PC领域

虽然上面5个时代看起来是根据CPU字长来划分的，但并不只是增加的字长提高了微机的性能，将其他因素也综合起来，比如时钟频率的提高、总线技术、存储技术以及软件（如操作系统和编译软件等系统软件）的共同进步推动了微机一代又一代的发展

## *微机结构 & 工作原理*

### 什么是微机

微机 Microcomputer 是一种以LSI & VLSI 集成电路为主要部件，以微处理器 Microprocessor 为核心所构造的个人计算机系统。微机通常包括中央处理器（CPU）、内存、输入输出接口、存储设备等基本组件，能够完成数据处理、存储和传输等任务。微机的概念最早在20世纪70年代提出，是个人计算机发展的重要阶段之一

微机是一个更广泛的术语，涵盖了使用微处理器的各种计算机系统，不仅包括个人计算机，还包括嵌入式系统、工控系统等。PC是微机的一个子集，特指适用于个人使用的计算机

### 常用基本概念

* 微处理器：
* 微机：
* 微机系统：
* 位 bit
* 字节 Byte
* 字 word
* 字长
* 指令
* 指令集
* 程序
* 主频 Clock frequency
* 外频

### 冯诺伊曼架构 & 哈佛架构

* 冯诺伊曼架构 Von Neumann Architecture 又称为普林斯顿架构 Princeton Architecture：将程序指令存储器和数据存储器合并在一起。冯诺伊曼结构隐约指导了将存储设备与中央处理器分开的概念，因此依本结构设计出的计算机又称**存储程序计算机**
* 哈佛架构 Harvard Architecture：将程序指令存储器和数据存储器分开

为什么电脑还沿用冯诺伊曼结构而不使用哈佛结构？ - 昌维的回答 - 知乎 <https://www.zhihu.com/question/22406681/answer/1030814514>

早期的冯诺伊曼机是**以运算器为中心**的，IO设备通过运算器于存储器传送数据

<img src="EarlyVonNeumannArch.jpg" width="80%">

### 现代计算机

随着微电子技术的发展，现代计算机中CPU于存储设备和IO设备的速度差距非常大，这时候若数据传送都还非得经过运算器已经不合适了。所以现代计算机发展为了**以存储器为中心**，使IO操作尽可能地绕过CPU，直接在IO设备与存储器之间完成，从而提高系统的整体运行效率

<img src="ModernComputerArch.jpg" width="80%">

现代计算机仍然把程序指令存储器和数据存储器合并在一起，所以大部分现代计算机仍然是冯诺伊曼架构

# 8086CPU的结构与功能

## *微处理器的外部结构*

## *微处理器的内部结构*

## *微处理器的功能结构*

## *微处理器的寄存器组织*

### 通用寄存器

### 段寄存器

### 控制寄存器

## *微处理器的存储器 & IO组织*

# 总线

## *总线的定义及分类*

### 总线的定义

总线是一组共用导线，它是用来在计算机系统中各模块之间互相传输数据、地址和控制信息的公共通路

通过总线，可以实现各部件之间的数据和命令的传输。在目前的微机系统中均采用标准化总线结构

### 现代微机的总线结构与工作原理

三总线：数据总线 DB、地址总线 AB、控制总线 CB 

### 总线的分类

* 按连接对象分：内总线和外总线
* 按传输信息分：数据总线 DB、地址总线 AB、控制总线 CB 
* 按握手技术和联络方式分：同步传输总线和异步传输总线
* 按传输格式分：并行总线和串行总线
* 按功能分
  * 片内总线
  * 元件级总线
  * 系统总线
  * 通信总线

## *系统总线的形成* 

# 常用芯片的接口技术

## *IO接口*

任何IO设备不能直接与CPU通信，需要设计一层IO接口电路

# 中断系统 & 可编中断控制芯片8259A

## *中断的基本概念*